# ТРЕБОВАНИЯ К CONFLUENCE ПУБЛИКАЦИИ

## История требований (ФИКСАЦИЯ ВСЕХ ЗАПРОСОВ)

### Сессия 05.02.2026

| # | Требование | Статус | Дата |
|---|------------|--------|------|
| 1 | История версий - обычная таблица БЕЗ синего фона | ГОТОВО | 05.02 |
| 2 | Система кодов требований - ТАБЛИЦА (77x3) | ГОТОВО | 05.02 |
| 3 | Критическая зависимость - warning панель (красная) | ГОТОВО | 05.02 |
| 4 | Дата - АВТОМАТИЧЕСКИ текущая | ГОТОВО | 05.02 |
| 5 | Версионность - использовать встроенную Confluence | ГОТОВО | 05.02 |
| 6 | Убрать дублирование текста после таблиц | ГОТОВО | 05.02 |
| 7 | Заголовки разделов - жирные | ГОТОВО | 05.02 |
| 8 | НЕ перезаписывать файл - только Edit | ГОТОВО | 05.02 |
| 9 | Предупреждения - note панель (желтая) | ГОТОВО | 05.02 |
| 10 | Полноценная версионность (не менять заголовок) | ГОТОВО | 05.02 |
| 11 | Система кодов типов (LS-XX-XXX) - таблица 7x2 | ГОТОВО | 05.02 |
| 12 | Убрать эмодзи из текста панелей | ГОТОВО | 05.02 |
| 13 | ~~Оглавление (toc macro)~~ | УБРАНО | 05.02 |
| 14 | Полный переход на Confluence (убрать Notion) | ГОТОВО | 05.02 |

---

## Цветовая схема Confluence Server

**ВАЖНО: В Confluence Server макросы отличаются от Confluence Cloud!**

| Макрос | Цвет панели | Используем для |
|--------|-------------|----------------|
| `warning` | КРАСНАЯ (#ffebe6) | ⛔ Критические зависимости |
| `note` | ЖЁЛТАЯ (#fffae6) | ⚠ Предупреждения, исключения |
| `info` | СИНЯЯ (#deebff) | НЕ используем |
| `tip` | ЗЕЛЁНАЯ (#e3fcef) | НЕ используем |

---

## Автоматические поля

| Поле | Источник | Как работает |
|------|----------|--------------|
| Дата | `datetime.now()` | Генерируется при каждой публикации |
| Версия страницы | Confluence API | Автоинкремент при каждом PUT |
| Версия документа | FM_VERSION = "1.0.0" | В мета-таблице |

---

## Правила обработки

1. **1x1 таблицы с ключевыми словами** -> панели:
   - "критич", "зависимость" -> `warning` macro (КРАСНАЯ)
   - "важно", "внимание", "исключение" -> `note` macro (ЖЁЛТАЯ)

2. **1x1 таблицы БЕЗ ключевых слов** -> обычные таблицы

3. **Параграфы с ⚠** -> `note` macro (ЖЁЛТАЯ), эмодзи убирается

4. **Система кодов типов** -> таблица 7x2 (Код | Описание)

5. **Система кодов (77x3)** -> обычная таблица

6. **Версионность** -> встроенная Confluence (page versions)

7. **Дата** -> datetime.now() автоматически
