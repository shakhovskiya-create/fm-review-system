{
  "name": "Жизненный цикл Заказа клиента",
  "diagramName": "BPMN 4: Жизненный цикл Заказа клиента",
  "description": "Статусы и переходы Заказа клиента по ЛС",
  "lanes": [
    { "id": "manager", "name": "Менеджер", "color": "#dae8fc" },
    { "id": "system", "name": "1С:УТ", "color": "#d5e8d4" },
    { "id": "approver", "name": "Согласующий", "color": "#ffe6cc" }
  ],
  "nodes": [
    { "id": "start", "type": "eventStart", "label": "", "lane": "manager" },
    { "id": "t_create", "type": "task", "label": "Создание\nзаказа", "lane": "manager" },
    { "id": "s_draft", "type": "task", "label": "Черновик", "lane": "system" },
    { "id": "x_auto", "type": "gateway", "label": "X", "lane": "system" },
    { "id": "t_auto", "type": "task", "label": "Авто-согласование\n(< 1 п.п.)", "lane": "system" },
    { "id": "s_approval", "type": "task", "label": "На согласовании", "lane": "system" },
    { "id": "s_waiting", "type": "task", "label": "Ожидает\nпоступления", "lane": "system" },
    { "id": "x_decision", "type": "gateway", "label": "X", "lane": "approver" },
    { "id": "s_approved", "type": "task", "label": "Согласован\n(5 раб. дней)", "lane": "system" },
    { "id": "s_rejected", "type": "task", "label": "Отклонен", "lane": "system" },
    { "id": "s_partial", "type": "task", "label": "Частично\nсогласован", "lane": "system" },
    { "id": "s_expired", "type": "task", "label": "Согласование\nистекло", "lane": "system" },
    { "id": "x_rtu", "type": "gateway", "label": "X", "lane": "system" },
    { "id": "s_work", "type": "task", "label": "В работе\n(есть РТУ)", "lane": "system" },
    { "id": "x_done", "type": "gateway", "label": "X", "lane": "system" },
    { "id": "s_done", "type": "task", "label": "Исполнен", "lane": "system" },
    { "id": "s_partial_close", "type": "task", "label": "Закрыт\nчастично", "lane": "system" },
    { "id": "s_cancel", "type": "task", "label": "Отменен", "lane": "system" },
    { "id": "end_ok", "type": "eventEnd", "label": "Завершен", "lane": "system" }
  ],
  "edges": [
    { "from": "start", "to": "t_create" },
    { "from": "t_create", "to": "s_draft" },
    { "from": "s_draft", "to": "x_auto" },
    { "from": "x_auto", "to": "t_auto", "label": "< 1 п.п." },
    { "from": "x_auto", "to": "s_approval", "label": ">= 1 п.п." },
    { "from": "x_auto", "to": "s_waiting", "label": "нет товара" },
    { "from": "t_auto", "to": "s_approved" },
    { "from": "s_approval", "to": "x_decision" },
    { "from": "x_decision", "to": "s_approved", "label": "одобрен" },
    { "from": "x_decision", "to": "s_rejected", "label": "отклонен" },
    { "from": "x_decision", "to": "s_partial", "label": "частично" },
    { "from": "s_rejected", "to": "s_draft" },
    { "from": "s_partial", "to": "s_approved" },
    { "from": "s_expired", "to": "s_draft" },
    { "from": "s_waiting", "to": "s_approval" },
    { "from": "s_approved", "to": "x_rtu" },
    { "from": "x_rtu", "to": "s_work", "label": "РТУ проведен" },
    { "from": "x_rtu", "to": "s_expired", "label": "5 дней / > 3 п.п." },
    { "from": "s_work", "to": "x_done" },
    { "from": "x_done", "to": "s_done", "label": "все отгружено" },
    { "from": "x_done", "to": "s_partial_close", "label": "клиент отменил" },
    { "from": "s_done", "to": "end_ok" },
    { "from": "s_partial_close", "to": "end_ok" },
    { "from": "s_cancel", "to": "end_ok" }
  ],
  "notes": [
    {
      "text": "Черновик:\nавтоудаление\nчерез 7 дней\n(предупреждение за 3 дня)",
      "position": "top-right"
    }
  ]
}
