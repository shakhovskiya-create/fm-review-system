{
  "name": "Контроль рентабельности",
  "diagramName": "BPMN: Контроль рентабельности",
  "description": "Процесс контроля рентабельности заказов клиентов в 1С:УТ",
  "lanes": [
    { "id": "manager", "name": "Менеджер", "color": "#dae8fc" },
    { "id": "system", "name": "Контроль рентабельности\n1С:УТ", "color": "#d5e8d4" }
  ],
  "nodes": [
    { "id": "start", "type": "eventStart", "label": "", "lane": "manager" },
    { "id": "t1", "type": "task", "label": "Создать\nЗаказ клиента", "lane": "manager" },

    { "id": "t2", "type": "task", "label": "Проверка актуальности\nсебестоимости\n(возраст НПСС < 90 дн)", "lane": "system" },
    { "id": "x1", "type": "gateway", "label": "X", "lane": "system" },
    { "id": "t3", "type": "taskError", "label": "Блокировка\n(обновить НПСС)", "lane": "system" },
    { "id": "e1", "type": "eventEndError", "label": "Заблокирован", "lane": "system" },
    { "id": "t4", "type": "task", "label": "Расчет\nрентабельности", "lane": "system" },
    { "id": "x2", "type": "gateway", "label": "X", "lane": "system" },
    { "id": "t5", "type": "task", "label": "Авто-\nсогласование", "lane": "system" },
    { "id": "e2", "type": "eventEnd", "label": "Заказ\nсогласован", "lane": "system" },
    { "id": "t6", "type": "subprocess", "label": "Согласование\n(см. BPMN 2)", "lane": "system" },
    { "id": "x3", "type": "gateway", "label": "X", "lane": "system" },
    { "id": "e3", "type": "eventEnd", "label": "Согласовано", "lane": "system" },
    { "id": "e4", "type": "eventEndError", "label": "Отклонено", "lane": "system" }
  ],
  "edges": [
    { "from": "start", "to": "t1" },
    { "from": "t1", "to": "t2" },
    { "from": "t2", "to": "x1" },
    { "from": "x1", "to": "t3", "label": "устарела" },
    { "from": "t3", "to": "e1" },
    { "from": "x1", "to": "t4", "label": "актуальна" },
    { "from": "t4", "to": "x2" },
    { "from": "x2", "to": "t5", "label": ">= 0%" },
    { "from": "t5", "to": "e2" },
    { "from": "x2", "to": "t6", "label": "< 0%" },
    { "from": "t6", "to": "x3" },
    { "from": "x3", "to": "e3", "label": "да" },
    { "from": "x3", "to": "e4", "label": "нет" }
  ]
}
