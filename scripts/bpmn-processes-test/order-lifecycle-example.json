{
  "name": "Жизненный цикл Заказа клиента",
  "diagramName": "BPMN: Жизненный цикл Заказа (пример)",
  "description": "Пример с 3 лейнами, subprocess Согласование, красными задачами и отдельным потоком Отменен. Черновик: автоудаление через 7 дней (предупреждение за 3 дня).",
  "lanes": [
    { "id": "manager", "name": "Менеджер", "color": "#dae8fc" },
    { "id": "system", "name": "1С:УТ", "color": "#d5e8d4" },
    { "id": "approver", "name": "Согласующий (РБЮ / ДП / ГД)", "color": "#ffe6cc" }
  ],
  "nodes": [
    { "id": "start", "type": "eventStart", "label": "", "lane": "manager" },
    { "id": "t_create", "type": "task", "label": "Создание\nзаказа", "lane": "manager" },
    { "id": "s_draft", "type": "task", "label": "Черновик", "lane": "system" },
    { "id": "x_route", "type": "gateway", "label": "Маршрут?", "lane": "system" },
    { "id": "t_auto", "type": "task", "label": "Авто-согласование\n(< 1 п.п.)", "lane": "system" },
    { "id": "s_approval", "type": "task", "label": "На согласовании", "lane": "system" },
    { "id": "s_waiting", "type": "task", "label": "Ожидает\nпоступления", "lane": "system" },
    { "id": "t_soglas", "type": "subprocess", "label": "Согласование\n(см. BPMN 2)", "lane": "approver" },
    { "id": "x_decision", "type": "gateway", "label": "Результат?", "lane": "approver" },
    { "id": "s_approved", "type": "task", "label": "Согласован\n(5 раб. дней)", "lane": "system" },
    { "id": "s_rejected", "type": "taskError", "label": "Отклонен", "lane": "system" },
    { "id": "s_partial", "type": "task", "label": "Частично\nсогласован", "lane": "system" },
    { "id": "s_expired", "type": "taskError", "label": "Согласование\nистекло", "lane": "system" },
    { "id": "x_rtu", "type": "gateway", "label": "РТУ?", "lane": "system" },
    { "id": "s_work", "type": "task", "label": "В работе", "lane": "system" },
    { "id": "x_done", "type": "gateway", "label": "Итог?", "lane": "system" },
    { "id": "s_done", "type": "task", "label": "Исполнен", "lane": "system" },
    { "id": "s_partial_close", "type": "task", "label": "Закрыт\nчастично", "lane": "system" },
    { "id": "start_cancel", "type": "eventStart", "label": "", "lane": "system" },
    { "id": "s_cancel", "type": "taskError", "label": "Отменен", "lane": "system" },
    { "id": "end_ok", "type": "eventEnd", "label": "Завершен", "lane": "system" }
  ],
  "edges": [
    { "from": "start", "to": "t_create" },
    { "from": "t_create", "to": "s_draft" },
    { "from": "s_draft", "to": "x_route" },
    { "from": "x_route", "to": "t_auto", "label": "< 1 п.п." },
    { "from": "x_route", "to": "s_approval", "label": ">= 1 п.п." },
    { "from": "x_route", "to": "s_waiting", "label": "нет товара" },
    { "from": "s_waiting", "to": "s_approval" },
    { "from": "t_auto", "to": "s_approved" },
    { "from": "s_approval", "to": "t_soglas" },
    { "from": "t_soglas", "to": "x_decision" },
    { "from": "x_decision", "to": "s_approved", "label": "одобрен" },
    { "from": "x_decision", "to": "s_rejected", "label": "отклонен" },
    { "from": "x_decision", "to": "s_partial", "label": "частично" },
    { "from": "s_rejected", "to": "s_draft" },
    { "from": "s_partial", "to": "s_approved" },
    { "from": "s_approved", "to": "x_rtu" },
    { "from": "x_rtu", "to": "s_work", "label": "РТУ проведен" },
    { "from": "x_rtu", "to": "s_expired", "label": "5 дн. / > 3 п.п." },
    { "from": "s_expired", "to": "s_draft" },
    { "from": "s_work", "to": "x_done" },
    { "from": "x_done", "to": "s_done", "label": "все отгружено" },
    { "from": "x_done", "to": "s_partial_close", "label": "клиент отменил" },
    { "from": "s_done", "to": "end_ok" },
    { "from": "s_partial_close", "to": "end_ok" },
    { "from": "start_cancel", "to": "s_cancel" },
    { "from": "s_cancel", "to": "end_ok" }
  ]
}
