<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-02-06T14:00:00.000Z" agent="Mozilla/5.0" version="21.0.0" type="device">
  <diagram name="Основной поток" id="epc-main-flow">
    <mxGraphModel dx="1300" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title" value="Диаграмма 1: Основной поток контроля рентабельности при отгрузке" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=16;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="20" width="500" height="30" as="geometry"/>
        </mxCell>

        <!-- Row 1: Start -->
        <mxCell id="O1" value="Менеджер" style="ellipse;whiteSpace=wrap;html=1;fillColor=#FFFDE7;strokeColor=#F9A825;" vertex="1" parent="1">
          <mxGeometry x="400" y="70" width="80" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="E1" value="Заказ клиента&#xa;создан" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#C8E6C9;strokeColor=#82B366;" vertex="1" parent="1">
          <mxGeometry x="510" y="60" width="120" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="S1" value="1С:УТ" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ECEFF1;strokeColor=#757575;" vertex="1" parent="1">
          <mxGeometry x="660" y="65" width="70" height="40" as="geometry"/>
        </mxCell>

        <!-- Row 2: Check cost freshness -->
        <mxCell id="F1" value="Проверка актуальности&#xa;себестоимости&#xa;(возраст НПСС &lt; 90 дней)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2EBF2;strokeColor=#0097A7;" vertex="1" parent="1">
          <mxGeometry x="480" y="145" width="180" height="55" as="geometry"/>
        </mxCell>

        <!-- Row 3: XOR cost check -->
        <mxCell id="X1" value="XOR" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#FBC02D;" vertex="1" parent="1">
          <mxGeometry x="530" y="235" width="80" height="50" as="geometry"/>
        </mxCell>

        <!-- Cost check results -->
        <mxCell id="E2" value="Себестоимость&#xa;актуальна" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFE0B2;strokeColor=#F57C00;" vertex="1" parent="1">
          <mxGeometry x="500" y="320" width="140" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="E3" value="Себестоимость&#xa;устарела" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFCDD2;strokeColor=#E53935;" vertex="1" parent="1">
          <mxGeometry x="730" y="235" width="130" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="F1b" value="Блокировка заказа.&#xa;Финслужбе обновить НПСС" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E53935;" vertex="1" parent="1">
          <mxGeometry x="890" y="235" width="150" height="50" as="geometry"/>
        </mxCell>

        <!-- Row 4: Calculate profitability -->
        <mxCell id="F2" value="Расчет рентабельности&#xa;= (Цена − Себестоимость) / Цена" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2EBF2;strokeColor=#0097A7;" vertex="1" parent="1">
          <mxGeometry x="465" y="410" width="210" height="50" as="geometry"/>
        </mxCell>

        <!-- Row 5: XOR Profitability -->
        <mxCell id="X2" value="XOR" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#FBC02D;" vertex="1" parent="1">
          <mxGeometry x="530" y="500" width="80" height="50" as="geometry"/>
        </mxCell>

        <!-- Profitability results -->
        <mxCell id="E4" value="Рентабельность&#xa;>= 0%" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFE0B2;strokeColor=#F57C00;" vertex="1" parent="1">
          <mxGeometry x="300" y="590" width="120" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="E5" value="Рентабельность&#xa;&lt; 0%" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFE0B2;strokeColor=#F57C00;" vertex="1" parent="1">
          <mxGeometry x="700" y="590" width="120" height="50" as="geometry"/>
        </mxCell>

        <!-- Row 6: Actions -->
        <mxCell id="F3" value="Авто-согласование" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#82B366;" vertex="1" parent="1">
          <mxGeometry x="280" y="680" width="140" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="P1" value="Ручное согласование&#xa;(см. Диаграмму 2)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#8E24AA;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="680" width="160" height="50" as="geometry"/>
        </mxCell>

        <!-- Row 7: End -->
        <mxCell id="E6" value="Заказ&#xa;согласован" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#C8E6C9;strokeColor=#82B366;" vertex="1" parent="1">
          <mxGeometry x="500" y="780" width="140" height="50" as="geometry"/>
        </mxCell>

        <!-- Edges - simple vertical flow with entityRelation style -->
        <mxCell id="e0" style="edgeStyle=entityRelationEdgeStyle;rounded=1;dashed=1;endArrow=none;" edge="1" parent="1" source="O1" target="E1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e0b" style="edgeStyle=entityRelationEdgeStyle;rounded=1;dashed=1;endArrow=none;" edge="1" parent="1" source="S1" target="E1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e1" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="E1" target="F1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e2" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="F1" target="X1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e3" value="да" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="X1" target="E2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e4" value="нет" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="X1" target="E3">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e4b" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="E3" target="F1b">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e5" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="E2" target="F2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e6" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="F2" target="X2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e7" value=">= 0%" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="X2" target="E4">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e8" value="&lt; 0%" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="X2" target="E5">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e9" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="E4" target="F3">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e10" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="E5" target="P1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e11" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="F3" target="E6">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e12" value="после&#xa;согласования" style="edgeStyle=entityRelationEdgeStyle;rounded=1;endArrow=block;endFill=1;" edge="1" parent="1" source="P1" target="E6">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="leg_title" value="Легенда" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="150" width="80" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="leg1" value="Начало / успех" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#C8E6C9;strokeColor=#82B366;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="50" y="180" width="120" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="leg2" value="Промежуточное" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFE0B2;strokeColor=#F57C00;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="50" y="218" width="120" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="leg3" value="Ошибка / блокировка" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fillColor=#FFCDD2;strokeColor=#E53935;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="50" y="256" width="120" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="leg4" value="Функция (действие)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B2EBF2;strokeColor=#0097A7;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="50" y="294" width="120" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="leg5" value="XOR (выбор)" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#FBC02D;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="70" y="332" width="80" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="leg6" value="Роль" style="ellipse;whiteSpace=wrap;html=1;fillColor=#FFFDE7;strokeColor=#F9A825;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="50" y="382" width="60" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="leg7" value="Система" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ECEFF1;strokeColor=#757575;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="120" y="382" width="60" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="leg8" value="Подпроцесс" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#8E24AA;dashed=1;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="50" y="417" width="80" height="25" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
