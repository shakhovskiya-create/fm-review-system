# SE-ревью: ТЗ v1.0.6 и Архитектура v1.0.6 (FM-LS-PROFIT v1.0.5)

**Дата:** 26.02.2026
**Автор:** Шаховский А.С.
**Платформа:** 1С:УТ 10.2 на платформе 8.3, обычные формы, толстый клиент
**Объем:** ТЗ v1.0.6 (689 строк), Архитектура v1.0.6 (1562 строки), feasibility_review.json
**Предыдущий ревью:** SE-REVIEW-v1.0.5 (4C/5H/6M/3L, APPROVED WITH CONDITIONS)
**GitHub Issue:** #80

---

## Вердикт: APPROVED WITH CONDITIONS

**Рейтинг: 0 CRITICAL, 3 HIGH, 5 MEDIUM, 4 LOW**

Документы v1.0.6 существенно улучшены по сравнению с v1.0.5. Все 4 CRITICAL-замечания предыдущего ревью устранены:
- ARC-001 (ЭлементыФормы.Вставить): исправлено -- все элементы создаются в конфигураторе расширения;
- ARC-002 (НовыйОповещение): исправлено -- используются Предупреждение(), Вопрос(), надписи;
- ARC-003 (КлиентСервер контекст): исправлено -- модули корректно разделены на Серверные и Глобальные;
- ARC-004 (ДобавитьКоманду): исправлено -- используются Кнопки с привязкой к процедурам.

Раздел 0A (зависимости от SBS) -- добавлен, корректно описывает связь с SBS-58/59/63/130/57.

Однако остаются замечания, требующие внимания до начала разработки.

---

## СЕКЦИЯ 1: Architecture Review

### [HIGH] ARC-005. Регистр сведений НагрузкаСогласующих: поля ЗадачВОчереди и ЗадачЗаДень объявлены как Ресурс в разделе 2.2.3 ТЗ, но как Реквизит в разделе 1.5.12 Архитектуры

**Описание:** В разделе 2.2.3 ТЗ (стр. 250-256) регистр сведений НагрузкаСогласующих описан с полями ЗадачВОчереди, ЗадачЗаДень, ПереливАктивен, ДопСогласующийНазначен в роли **Ресурс**. Однако в разделе 1.5.12 Архитектуры (стр. 871-874) те же поля описаны как **Реквизит**.

Для регистра сведений это принципиальная разница:
- **Ресурс** в регистре сведений: хранит данные, может быть итогован, участвует в запросах с агрегацией.
- **Реквизит** в регистре сведений: дополнительные данные, НЕ участвует в итогах виртуальных таблиц (СрезПоследних, СрезПервых).

Поскольку НагрузкаСогласующих -- периодический регистр сведений (снимок на конец дня), и данные потом используются в отчёте LS-RPT-072, корректный выбор -- **Ресурс** (чтобы можно было получать срез последних значений по согласующему).

**Почему важно:** Если разработчик возьмёт за основу архитектуру (Реквизит), то запросы к виртуальным таблицам `СрезПоследних` не вернут эти поля корректно. Отчёт LS-RPT-072 будет давать пустые значения.

**Варианты решения:**

| Вариант | Трудоёмкость | Риск | Влияние | Поддержка |
|---------|-------------|------|---------|-----------|
| А: Привести к единообразию -- Ресурс (как в ТЗ) | Нулевая (документарное) | Низкий | Высокое | Низкая |
| Б: Оставить как Реквизит и НЕ использовать виртуальные таблицы | Нулевая | Средний | Среднее | Средняя (нестандартный подход) |
| В: Ничего не менять | -- | -- | -- | Рассогласование ТЗ и Архитектуры |

**Рекомендация:** Вариант А -- унифицировать как Ресурс. ТЗ корректнее в данном случае: поля содержат числовые показатели, которые должны быть доступны через СрезПоследних.

---

### [HIGH] ARC-006. ОчередьРезервногоРежима: поле Статус = Строка(20) в ТЗ раздел 2.2.4, но = ПеречислениеСсылка в Архитектуре раздел 1.5.10

**Описание:** В разделе 2.2.4 ТЗ (стр. 284) поле Статус описано как `Строка(20)` со значениями "ВОчереди" / "Автосогласовано" / "ОтправленоВЕлму". В разделе 1.5.10 Архитектуры (стр. 837) то же поле описано как `ПеречислениеСсылка.СтатусыОчередиРезервногоРежима`.

**Почему важно:** Строковые статусы -- анти-паттерн в 1С:
- Нет контроля допустимых значений на уровне платформы;
- Ошибка в тексте ("ВоОчереди" вместо "ВОчереди") не будет поймана;
- Невозможно использовать в качестве значения отбора в запросах с ЗНАЧЕНИЕ().

Архитектура корректнее -- перечисление уже определено (СтатусыОчередиРезервногоРежима, стр. 395). В ТЗ определение осталось от ранней версии.

**Варианты решения:**

| Вариант | Трудоёмкость | Риск | Влияние | Поддержка |
|---------|-------------|------|---------|-----------|
| А: Привести ТЗ к использованию перечисления (как в Архитектуре) | Нулевая (документарное) | Низкий | Высокое | Низкая |
| Б: Ничего не менять | -- | -- | -- | Рассогласование ТЗ и Архитектуры |

**Рекомендация:** Вариант А -- ТЗ раздел 2.2.4 привести в соответствие с Архитектурой. Перечисление СтатусыОчередиРезервногоРежима уже определено.

---

### [HIGH] ARC-007. ИтерацииКорректировкиЦены: поле Результат = Строка(20) в ТЗ раздел 2.2.5, но = ПеречислениеСсылка в Архитектуре раздел 1.5.11

**Описание:** Аналогично ARC-006: в ТЗ раздел 2.2.5 (стр. 325) поле `Результат` описано как `Строка(20)` со значениями "Принято / Отклонено / АвтоОтказ", а в Архитектуре 1.5.11 (стр. 857) -- как `ПеречислениеСсылка.РезультатыКорректировки`.

**Почему важно:** То же самое -- строковые статусы = анти-паттерн. Перечисление уже определено в Архитектуре (стр. 399).

**Рекомендация:** Привести ТЗ в соответствие с Архитектурой. Использовать перечисление РезультатыКорректировки.

---

### [MEDIUM] ARC-008. Таймер рабочего места согласующего: интервал 60 сек (Архитектура 8.5.2) vs рекомендация 120 сек (Архитектура 0.4)

**Описание:** В разделе 0.4 Архитектуры (стр. 168) явно обосновано решение использовать интервал 120 секунд для таймера:

```
ПодключитьОбработчикОжидания("КР_ОбновитьТаймер", 120); // каждые 120 секунд
// SLA измеряется часами, минутная точность избыточна.
// При 70 одновременных сеансах интервал 120 сек снижает серверную нагрузку вдвое.
```

Однако в разделе 8.5.2 (стр. 1432) для рабочего места согласующего используется интервал 60 секунд:

```
ПодключитьОбработчикОжидания("КР_ОбновитьТаймерSLA", 60);
```

**Почему важно:** При 10-12 согласующих, работающих одновременно через толстый клиент, интервал 60 сек создаёт 10-12 серверных запросов в минуту только от таймеров согласующих. Это не критично само по себе, но противоречит собственному обоснованию в разделе 0.4. Согласующие тоже входят в 70 одновременных сеансов. При этом SLA согласования измеряется часами (минимум 2 часа для P1 <100 тр), и точность 2 минуты избыточна.

**Варианты решения:**

| Вариант | Трудоёмкость | Риск | Влияние | Поддержка |
|---------|-------------|------|---------|-----------|
| А: Унифицировать на 120 сек для всех форм | Нулевая (документарное) | Низкий | Среднее | Низкая |
| Б: Оставить 60 сек только для рабочего места согласующего (обосновать) | Нулевая | Низкий | Среднее | Средняя |
| В: Ничего не менять | -- | -- | -- | Противоречие внутри документа |

**Рекомендация:** Вариант А -- унифицировать на 120 сек. При SLA в часах разница между 60 и 120 секундами незаметна для пользователя, но снижает нагрузку на сервер.

---

### [MEDIUM] ARC-009. ТЗ раздел 1.7.1: утверждение о программном создании элементов в ПриОткрытии

**Описание:** В разделе 1.7.1 ТЗ (стр. 119) в таблице "Что доступно" для обычных форм указано:

> "Обычные формы. Элементы создаются в конфигураторе и **программно в ПриОткрытии**"

Это неточность. В обычных формах программное создание элементов в ПриОткрытии **невозможно** (ЭлементыФормы.Вставить() не существует). Программно управляется только видимость, заголовки и цвета уже существующих элементов.

Одновременно в разделе 1.7.2 (стр. 135):

> "Все элементы добавляются **программно в ПриОткрытии**. Нет визуального редактора для расширяемых форм."

Это также неточно. В расширении (.cfe) есть визуальный редактор (конфигуратор расширения), и элементы создаются именно в нём, а не программно.

**Почему важно:** Эти формулировки могут ввести в заблуждение разработчика, не знакомого с обычными формами. Архитектура (раздел 0.2, стр. 57-60) описывает подход корректно, но ТЗ содержит устаревшие формулировки.

**Рекомендация:** Скорректировать формулировки в ТЗ:
- Стр. 119: "Элементы создаются в конфигураторе расширения. Программно управляется видимость, заголовки, цвета."
- Стр. 135: "Все элементы размещаются в конфигураторе расширения (.cfe). Программно управляется видимость, подписи и цвета. Каждая кнопка требует отдельной процедуры-обработчика."
- Стр. 135 (коэффициент +40%): обоснование остается корректным -- ручная разметка вместо визуального конструктора форм действительно увеличивает трудоёмкость.

---

### [MEDIUM] ARC-010. Подсистемы и командный интерфейс: механизм недоступен в обычном приложении как описано

**Описание:** В разделе 8.1 Архитектуры (стр. 1215-1218) описаны подсистемы:

| Подсистема | В командный интерфейс |
|------------|----------------------|
| КонтрольРентабельностиОтгрузок | Да |
| АдминистрированиеКонтроляРент | Да |

В 1С:УТ 10.2 (обычное приложение) **нет командного интерфейса** в том виде, как он работает в управляемых формах. Командный интерфейс с подсистемами -- это механизм управляемого приложения. В обычном приложении навигация реализуется через:
- Главное меню (Действия, Перейти, Справочники, Документы, Отчеты);
- Панель функций (если включена);
- Рабочий стол.

Подсистемы в конфигурации всё равно создаются (для структурирования метаданных), но колонка "В командный интерфейс" неприменима для обычного приложения.

**Почему важно:** Разработчик может потратить время на настройку командного интерфейса подсистем, не зная, что в обычном приложении он не работает. Навигацию придётся реализовать через панель функций / главное меню.

**Варианты решения:**

| Вариант | Трудоёмкость | Риск | Влияние | Поддержка |
|---------|-------------|------|---------|-----------|
| А: Убрать колонку "В командный интерфейс", описать способ навигации (панель функций / меню) | Низкая | Низкий | Среднее | Низкая |
| Б: Оставить подсистемы для структурирования, добавить примечание | Нулевая | Низкий | Низкое | Низкая |

**Рекомендация:** Вариант Б -- подсистемы корректны для структурирования метаданных. Достаточно добавить примечание: "В обычном приложении командный интерфейс подсистем не применяется. Навигация: пункт меню 'Продажи -> Контроль рентабельности' (панель функций / Действия). Администрирование: 'Сервис -> Контроль рентабельности -> Настройки'."

---

### [MEDIUM] ARC-011. Функциональные опции в обычном приложении: ограниченное влияние на видимость

**Описание:** В разделе 8.4 Архитектуры (стр. 1254-1263) описаны 6 функциональных опций:
- ИспользоватьКонтрольРентабельности
- ИспользоватьБлокировкуОтгрузки
- ИспользоватьРезервныйРежимELMA
- ИспользоватьАгрегированныеЛимиты
- ИспользоватьПерекрестныйКонтроль
- ИспользоватьАвтотриггерыНПСС

В управляемом приложении функциональные опции автоматически скрывают/показывают элементы интерфейса (реквизиты, команды, подсистемы). В обычном приложении 1С:УТ 10.2 функциональные опции:
- **Работают** для серверного кода (проверка через ПолучитьФункциональнуюОпцию());
- **НЕ работают** для автоматического управления видимостью элементов форм;
- **НЕ работают** для автоматического скрытия пунктов меню.

Поэтому все 6 опций будут работать как "логические переключатели" в коде, но НЕ будут автоматически скрывать элементы интерфейса.

**Почему важно:** Разработчик должен явно добавить проверку функциональных опций в коде форм для управления видимостью. Без этого отключение опции (например, ИспользоватьРезервныйРежимELMA = Ложь) не скроет соответствующие элементы на формах.

**Рекомендация:** Добавить в описание каждой ФО примечание: "В обычном приложении: проверка через ПолучитьФункциональнуюОпцию(). Видимость элементов форм управляется программно в ПриОткрытии." Это не меняет архитектуру, но уточняет реализацию для разработчиков.

---

### [MEDIUM] ARC-012. ЗаявкаНаСогласование: поле ИсторияМаршрутизации = Строка(5000) с JSON -- анти-паттерн для 1С

**Описание:** В разделе 1.3.2 Архитектуры (стр. 491) документ ЗаявкаНаСогласование содержит реквизит:

> ИсторияМаршрутизации | Строка(5000) | JSON: кому назначалось, когда, решение/таймаут

Хранение JSON в строковом реквизите -- анти-паттерн для 1С:
- Нет возможности выполнять запросы к содержимому (фильтрация по конкретному согласующему в истории);
- При длине > 1024 символов возникают проблемы отображения в стандартных отчётах;
- Парсинг JSON в 1С (через ЧтениеJSON) медленнее, чем чтение табличной части;
- Строка(5000) в Заявке, которая может проходить несколько уровней эскалации -- может оказаться мала.

**Почему важно:** Для отчёта по SLA (LS-FR-046) и анализа маршрутизации потребуется парсить JSON каждой заявки. При 50+ заявках в день за месяц это ~1000+ записей с JSON-парсингом.

**Варианты решения:**

| Вариант | Трудоёмкость | Риск | Влияние | Поддержка |
|---------|-------------|------|---------|-----------|
| А: Заменить на табличную часть "ИсторияМаршрутизации" (Согласующий, ДатаНазначения, ДатаРешения, Решение, Таймаут) | Средняя (+16ч) | Низкий | Высокое | Низкая (стандартный подход 1С) |
| Б: Оставить JSON, добавить денормализованные поля для отчетов (ПоследнийСогласующий, ПоследнееРешение) | Низкая (+4ч) | Средний | Среднее | Средняя |
| В: Ничего не менять | -- | -- | -- | Производительность отчётов |

**Рекомендация:** Вариант А -- стандартная практика 1С. Табличная часть документа ЗаявкаНаСогласование "ИсторияМаршрутизации" с полями: НомерШага (Число), Согласующий (СправочникСсылка.Пользователи), ДатаНазначения (Дата), ДатаРешения (Дата), Решение (ПеречислениеСсылка.РешенияСогласования), ТаймаутНаступил (Булево). Это даёт стандартные запросы без парсинга JSON.

---

## СЕКЦИЯ 2: Code Quality Review

### [LOW] CODE-001. Псевдокод УстановитьБлокировкуЛС: двойной вызов ТекущаяДата() в ТЗ

**Описание:** В разделе 2.2.1 ТЗ (стр. 189-190):

```1c
Запись.ВремяБлокировки = ТекущаяДата();
Запись.ВремяИстечения = ТекущаяДата() + ТаймаутМинут * 60;
```

Два вызова ТекущаяДата() могут вернуть разные значения (если вызов пришёлся на границу секунды). Разница несущественна (1 секунда), но в Архитектуре (стр. 152-154) уже правильно используется единый вызов:

```1c
ТекущееВремя = ТекущаяДата(); // единый вызов для согласованности
Запись.ВремяБлокировки = ТекущееВремя;
Запись.ВремяИстечения = ТекущееВремя + 5 * 60;
```

**Рекомендация:** Привести ТЗ в соответствие с Архитектурой -- использовать единый вызов ТекущаяДата().

---

### [LOW] CODE-002. Функция ПолучитьНагрузкуСогласующего: проверка незаполненного решения через ПустаяСсылка

**Описание:** В разделе 1.5.12 Архитектуры (стр. 886):

```1c
И ЗаявкаНаСогласование.Решение = ЗНАЧЕНИЕ(Перечисление.РешенияСогласования.ПустаяСсылка)
```

Проверка на ПустаяСсылка в запросах -- корректный подход для 1С. Однако стоит учитывать, что заявки в статусе "ОжидаетРешения" (если такой статус будет добавлен) тоже будут иметь пустое решение. Рекомендуется добавить комментарий в псевдокод, уточняющий бизнес-смысл: "Задачи без решения = задачи в очереди (ещё не обработаны согласующим)".

**Рекомендация:** Добавить комментарий. Код корректен.

---

### [LOW] CODE-003. Модуль КонтрольРентабельностиПовтИсп: механизм инвалидации кеша для ВСЕХ сеансов

**Описание:** В разделе 8.2 Архитектуры (стр. 1235) описан механизм:

```
Модуль КонтрольРентабельностиПовтИсп при каждом обращении к кешированным данным
проверяет эту дату: если она новее момента кеширования -- данные перечитываются.
```

Механизм описан верно: запись даты изменения в регистр сведений ДатаИзмененияНастроек + проверка при каждом обращении к кешу. Однако в разделе 1 Архитектуры регистр сведений ДатаИзмененияНастроек **не описан** как отдельный объект. Разработчик может забыть его создать.

**Рекомендация:** Добавить регистр сведений ДатаИзмененияНастроек в раздел 1.5 Архитектуры. Структура: ИмяНастройки (Строка, измерение), ДатаИзменения (Дата, ресурс). Или использовать более простой подход -- одну константу ДатаПоследнегоИзмененияНастроек.

---

## СЕКЦИЯ 3: Test Review

### [MEDIUM] TEST-001. xUnitFor1C vs Vanessa Automation: уточнение области применения

**Описание:** В ТЗ (стр. 137, 582, 628) и Архитектуре корректно указано:
- Vanessa Automation / TestClient **НЕ поддерживают** обычные формы;
- UI-тестирование -- только ручное;
- Серверная логика тестируется через **xUnitFor1C**.

Однако в тексте нет явной разбивки: какие из 72 тест-кейсов покрываются xUnitFor1C (серверная логика), а какие -- только ручными тестами (UI).

**Почему важно:** При планировании тестирования команда должна знать:
- Сколько тест-кейсов автоматизировано (xUnitFor1C) -- это регрессионная страховка;
- Сколько только ручных -- это ресурс тестировщика при каждом релизе.

Ориентировочная оценка:
- xUnitFor1C (серверная логика): ~35-40 тест-кейсов (расчёт рентабельности, проверки лимитов, блокировки, движения регистров, SLA, автотриггеры);
- Ручные (UI + интеграции): ~32-37 тест-кейсов (формы, уведомления, визуальные индикаторы, ELMA, WMS).

**Рекомендация:** Добавить в ТЗ раздел "Стратегия тестирования" или таблицу с маппингом: тест-кейс -> способ проверки (xUnitFor1C / ручной). Это не задерживает начало разработки, но критично для планирования ресурсов QA.

---

## СЕКЦИЯ 4: Performance Review

### [LOW] PERF-001. Регламентное задание ОчисткаБлокировок: расписание каждую 1 минуту

**Описание:** Задание #10 (стр. 1018) запускается каждую минуту для снятия просроченных блокировок ЛС (таймаут 5 минут). С timeout 30 сек и без retry.

При 70 одновременных сеансах задание каждую минуту:
- Создаёт фоновое задание на сервере 1С;
- Выполняет запрос к регистру БлокировкиЛС;
- Удаляет просроченные записи.

Нагрузка от одного такого задания минимальна (запрос к небольшому регистру). Однако суммарная нагрузка от 20 регламентных заданий с различными расписаниями (каждые 1 мин, 5 мин, 15 мин, 30 мин) на одном сервере с 70 толстыми клиентами -- требует внимания.

**Рекомендация:** Задание корректно спроектировано. Рекомендация: при нагрузочном тестировании замерить совокупное влияние всех 20 регламентных заданий на производительность сервера приложений. Если нагрузка критична -- увеличить интервал ОчисткаБлокировок до 2-3 минут (при таймауте 5 мин это не повлияет на UX).

---

## СЕКЦИЯ 5: SBS Compatibility Review

### Оценка зависимостей от проекта Себестоимость

Раздел 0A Архитектуры (добавлен в v1.0.6) корректно описывает все зависимости от SBS. Проверка по каждому ЧТЗ:

| ЧТЗ SBS | Зависимость в нашей ФМ | Корректность описания | Замечания |
|---------|------------------------|----------------------|-----------|
| SBS-58 (НПСС) | Чтение НПСС из регистра SBS-58, snapshot в НПССПозиций | Корректно | Формула НПСС = ЦЗсредняя x ТТК_страна описана верно. Указан период 6 мес. для ЦЗсредняя |
| SBS-59 (Маржинальность) | Справочный ориентир, не блокирующий | Корректно | Правильно указано: при контроле отгрузок используется плановая рент. ЛС, а не целевая маржинальность SBS-59 |
| SBS-63 (Факт. рентабельность) | Сверка план/факт при закрытии месяца | Корректно | Раздел 7.8 добавлен, порог расхождения 10% описан |
| SBS-130 (Внутренние цены) | Влияние на НПСС товаров от производства | Корректно | Fallback описан: при незавершенности SBS-130 использовать цену из ПТУ |
| SBS-57 (Закрытие месяца) | Массовый пересчёт НПСС при закрытии периода | Корректно | Указано: новые ЛС получают обновлённую НПСС, существующие используют зафиксированную |

**Вывод:** Описание SBS-зависимостей в v1.0.6 полное и корректное. Риски зависимости описаны адекватно. Функция-обёртка ПолучитьНПСС() для изоляции от изменений SBS-58 -- хорошее архитектурное решение.

---

## Сводная таблица замечаний

| # | Серьёзность | Код | Секция | Описание | Тип |
|---|------------|-----|--------|----------|-----|
| 1 | HIGH | ARC-005 | Architecture | Расхождение Ресурс/Реквизит в НагрузкаСогласующих между ТЗ и Архитектурой | Документарное |
| 2 | HIGH | ARC-006 | Architecture | Расхождение Строка/Перечисление в ОчередьРезервногоРежима.Статус | Документарное |
| 3 | HIGH | ARC-007 | Architecture | Расхождение Строка/Перечисление в ИтерацииКорректировкиЦены.Результат | Документарное |
| 4 | MEDIUM | ARC-008 | Architecture | Таймер 60 сек vs 120 сек -- внутреннее противоречие | Документарное |
| 5 | MEDIUM | ARC-009 | Architecture | ТЗ: формулировка о программном создании элементов | Документарное |
| 6 | MEDIUM | ARC-010 | Architecture | Подсистемы "В командный интерфейс" -- неприменимо в обычном приложении | Документарное |
| 7 | MEDIUM | ARC-011 | Architecture | Функциональные опции не управляют видимостью в обычных формах | Документарное |
| 8 | MEDIUM | ARC-012 | Architecture | JSON в строковом реквизите ИсторияМаршрутизации | Архитектурное |
| 9 | LOW | CODE-001 | Code | Двойной ТекущаяДата() в ТЗ | Документарное |
| 10 | LOW | CODE-002 | Code | Комментарий к ПустаяСсылка | Документарное |
| 11 | LOW | CODE-003 | Code | Регистр ДатаИзмененияНастроек не описан | Документарное |
| 12 | LOW | PERF-001 | Performance | Нагрузка от 20 регламентных заданий | Рекомендация |

---

## Оценка трудоёмкости

Оценка v1.0.6: **3 936 ч** (P1: 3 269ч, P2: 667ч), включая буфер рисков 20%.

Предыдущий ревью (v1.0.5) рекомендовал 3 915 ч. Текущая оценка отличается на +21ч (+0.5%), что в пределах погрешности.

**Оценка SE-ревью:**

| Параметр | Оценка Agent 5 | Оценка SE |
|----------|---------------|-----------|
| Базовая разработка | 2 148 ч | 2 148 ч (корректно) |
| Тестирование (35%) | 752 ч | 752 ч (корректно) |
| Регрессионное | 72 ч | 72 ч (корректно) |
| Документация (8%) | 172 ч | 172 ч (корректно) |
| Развертывание | 68 ч | 68 ч (корректно) |
| Обучение | 68 ч | 68 ч (корректно) |
| Буфер рисков (20%) | 656 ч | 656 ч (корректно) |
| Доработка по замечаниям SE | -- | +20 ч (ARC-012: замена JSON на ТЧ) |
| **Итого** | **3 936 ч** | **3 956 ч** |

Разница в 20ч (+0.5%) -- только если принят Вариант А по ARC-012 (замена JSON на табличную часть). Без этой доработки оценка совпадает.

---

## Итоговые рекомендации

### Устранить ДО начала разработки (3 HIGH):

1. **ARC-005, ARC-006, ARC-007**: Унифицировать описание регистров между ТЗ и Архитектурой. Это документарные правки, не требующие изменения архитектуры. Оценка: 0 часов (правка текста).

### Устранить при детальном проектировании (5 MEDIUM):

2. **ARC-008**: Унифицировать таймер на 120 сек.
3. **ARC-009**: Скорректировать формулировки о программном создании элементов в ТЗ.
4. **ARC-010**: Добавить примечание о навигации в обычном приложении.
5. **ARC-011**: Добавить примечание о функциональных опциях в обычных формах.
6. **ARC-012**: Заменить JSON-строку на табличную часть ИсторияМаршрутизации (рекомендуется, +16ч).

### Учесть при разработке (4 LOW):

7. **CODE-001, CODE-002, CODE-003, PERF-001**: Стилистические и документарные уточнения.

---

## Прогресс закрытия замечаний предыдущего ревью

| Замечание v1.0.5 | Серьёзность | Статус в v1.0.6 |
|------------------|------------|-----------------|
| ARC-001 (ЭлементыФормы.Вставить) | CRITICAL | ЗАКРЫТО -- все элементы в конфигураторе расширения |
| ARC-002 (НовыйОповещение) | CRITICAL | ЗАКРЫТО -- Предупреждение(), Вопрос(), надписи |
| ARC-003 (КлиентСервер контекст) | CRITICAL | ЗАКРЫТО -- Серверные + Глобальные модули |
| ARC-004 (ДобавитьКоманду) | CRITICAL | ЗАКРЫТО -- Кнопки с привязкой к процедурам |
| SBS-зависимости не описаны | HIGH | ЗАКРЫТО -- раздел 0A добавлен |
| Оценка трудоёмкости без платформенного коэфф. | HIGH | ЗАКРЫТО -- коэфф. +35% применён |
