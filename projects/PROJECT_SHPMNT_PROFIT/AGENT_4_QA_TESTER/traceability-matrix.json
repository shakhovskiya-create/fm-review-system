{
  "project": "PROJECT_SHPMNT_PROFIT",
  "fmVersion": "1.0.5",
  "timestamp": "2026-02-26T12:00:00Z",
  "platform": "1С:УТ 10.2 / 1С:Предприятие 8.3 — обычные формы (толстый клиент)",
  "uiAutomation": "НЕДОСТУПНО — Vanessa Automation и TestClient не поддерживают обычные формы",
  "serverTesting": "xUnitFor1C — для серверной логики (расчёты, регистры, модули объектов)",
  "entries": [
    {
      "findingId": "CRITICAL-001",
      "description": "LS-BR-035 vs п.3.15: противоречие 15 мин vs 5 мин — ЗАКРЫТ в v1.0.5",
      "severity": "CLOSED",
      "tests": ["TC-004", "TC-036"],
      "fmSection": "LS-BR-035, п. 3.15, п. 3.16",
      "tzObject": "Константа.ТаймаутБлокировкиЛС = 5; РегистрСведений.БлокировкиЛС",
      "status": "closed_in_v105",
      "notes": "TC-004 обновлён: ожидаемый результат однозначен — 5 мин. Противоречие устранено в ФМ v1.0.5"
    },
    {
      "findingId": "HIGH-001",
      "description": "Число P1-требований: «61» vs ~64 — ЗАКРЫТ в v1.0.5",
      "severity": "CLOSED",
      "tests": ["TC-063"],
      "fmSection": "Раздел 6 (текст приоритизации)",
      "tzObject": "Документация (не объект 1С)",
      "status": "closed_in_v105",
      "notes": "TC-063 обновлён: ожидаемый результат = 64. Текст ФМ исправлен в v1.0.5"
    },
    {
      "findingId": "HIGH-002",
      "description": "Два порога нагрузки согласующих: 30 задач (перелив) vs 50 задач (лимит) — рядом, разработчик может перепутать",
      "severity": "HIGH",
      "tests": ["TC-028", "TC-029", "TC-031"],
      "fmSection": "Раздел 5 (Пилотный период)",
      "tzObject": "РегистрСведений.НагрузкаСогласующих — ресурсы: ЗадачВОчереди (порог 30), ЗадачЗаДень (порог 50)",
      "status": "covered",
      "notes": "TC-028 проверяет ПереливАктивен при 31 задаче; TC-029 проверяет ДопСогласующийНазначен при 51 задаче; TC-031 оба порога в отчёте LS-RPT-072. Обновлено: добавлены проверки надписей на обычной форме (ЦветТекста)"
    },
    {
      "findingId": "HIGH-003",
      "description": "LS-RPT-072 содержал только порог 30; обновлён в v1.0.5 (оба порога)",
      "severity": "CLOSED",
      "tests": ["TC-031"],
      "fmSection": "Раздел 6 (LS-RPT-072)",
      "tzObject": "LS-RPT-072",
      "status": "closed_in_v105",
      "notes": "LS-RPT-072 обновлён в ФМ v1.0.5: содержит оба порога (30 и 50)"
    },
    {
      "findingId": "MED-001",
      "description": "Исключение дефолт-решения ГД: условие «на момент наступления»",
      "severity": "MEDIUM",
      "tests": ["TC-010"],
      "fmSection": "п. 3.6",
      "tzObject": "РегламентноеЗадание.АвтоотказГД",
      "status": "covered"
    },
    {
      "findingId": "GAP-02",
      "description": "Race condition: одновременный пересчёт НПСС и согласование — ЗАКРЫТ в v1.0.5",
      "severity": "CLOSED",
      "tests": ["TC-064"],
      "fmSection": "п. 3.9 + п. 3.4",
      "tzObject": "РегистрСведений.НормативнаяПлановаяСебестоимость + РегистрСведений.БлокировкиЛС",
      "status": "closed_in_v105",
      "notes": "Решение: НПСС зафиксирована на момент создания Заказа; блокировка ЛС предотвращает одновременное создание нового Заказа"
    },
    {
      "findingId": "B1",
      "description": "SLA для заказов < 100 т.р. — жёсткие значения 2/4/12ч",
      "severity": "N/A",
      "tests": ["TC-007", "TC-011"],
      "fmSection": "п. 3.4.1, п. 3.6",
      "tzObject": "Документ.ЗаявкаНаСогласование — реквизит SLAЧасов",
      "status": "covered"
    },
    {
      "findingId": "B2",
      "description": "Согласование с корректировкой цены — рекомендация менеджеру",
      "severity": "N/A",
      "tests": ["TC-017", "TC-018", "TC-019", "TC-020"],
      "fmSection": "п. 3.5.1",
      "tzObject": "РегистрСведений.ИтерацииКорректировкиЦены; Константа.ЛимитИтерацийКорректировки = 5",
      "status": "covered"
    },
    {
      "findingId": "B3",
      "description": "Логический резерв ЛС при дефиците — 48ч блокирует, 90д информационно",
      "severity": "N/A",
      "tests": ["TC-041"],
      "fmSection": "п. 3.9, 3.17",
      "tzObject": "РегистрНакопления.РезервыЛС",
      "status": "covered"
    },
    {
      "findingId": "B4",
      "description": "Фоновое задание пересчёта санкций — retry 3x15min, таймаут 2ч, алерт ФД",
      "severity": "N/A",
      "tests": ["TC-038"],
      "fmSection": "п. 3.18",
      "tzObject": "РегламентноеЗадание.ПересчетСанкций",
      "status": "covered"
    },
    {
      "findingId": "B5",
      "description": "Автоотказ ГД через 48ч — уведомление ФД",
      "severity": "N/A",
      "tests": ["TC-008"],
      "fmSection": "п. 3.5.2",
      "tzObject": "РегламентноеЗадание.АвтоотказГД",
      "status": "covered"
    },
    {
      "findingId": "B6",
      "description": "Улучшение рентабельности во время согласования — автосогласование",
      "severity": "N/A",
      "tests": ["TC-009"],
      "fmSection": "п. 3.5.3",
      "tzObject": "РегламентноеЗадание.ПересчётАктивныхЗаказов",
      "status": "covered"
    },
    {
      "findingId": "B7",
      "description": "Выручка отгруженного — нетто с учётом возвратов",
      "severity": "N/A",
      "tests": ["TC-002"],
      "fmSection": "п. 3.3, п. 3.5",
      "tzObject": "РегистрНакопления.ВыручкаОтгруженного; xUnit: КонтрольРентабельности_Тест.ПроверитьВыручкуНетто()",
      "status": "covered"
    },
    {
      "findingId": "B8",
      "description": "Автопродление ЛС + НПСС > 90 дней — блокировка остаётся",
      "severity": "N/A",
      "tests": ["TC-061"],
      "fmSection": "п. 3.12, п. 3.15.1",
      "tzObject": "Справочник.ЛокальнаяСмета — реквизит ДатаФиксацииНПСС",
      "status": "covered"
    },
    {
      "findingId": "B9",
      "description": "Подтверждённый дефицит — автоматическое + РБЮ для споров",
      "severity": "N/A",
      "tests": ["TC-041"],
      "fmSection": "п. 3.17, 3.18",
      "tzObject": "РегистрСведений.ДефицитТовара",
      "status": "covered"
    },
    {
      "findingId": "BIZ-001",
      "description": "Агрегированные лимиты автосогласования: менеджер 20 000/день, БЮ 100 000/день",
      "severity": "HIGH",
      "tests": ["TC-013", "TC-014", "TC-016", "TC-070"],
      "fmSection": "п. 3.7",
      "tzObject": "РегистрНакопления.ЛимитыАвтосогласования; Константы: ЛимитАвтосогласованияМенеджер=20000, ЛимитАвтосогласованияБЮ=100000",
      "status": "covered"
    },
    {
      "findingId": "BIZ-003",
      "description": "Перегрузка согласующих в пики (до 420 задач/день на РБЮ)",
      "severity": "HIGH",
      "tests": ["TC-028", "TC-029", "TC-030", "TC-055", "TC-057"],
      "fmSection": "Раздел 5 (Пилотный период)",
      "tzObject": "РегистрСведений.НагрузкаСогласующих; Константы: ПорогПереливаОчереди=30, ПорогНазначенияДопСогласующего=50",
      "status": "covered"
    },
    {
      "findingId": "BIZ-008",
      "description": "Нет baseline текущих потерь — ROI не обоснован",
      "severity": "HIGH",
      "tests": ["TC-032", "TC-062"],
      "fmSection": "п. 5, LS-RPT-073",
      "tzObject": "LS-RPT-073 Базовый замер KPI",
      "status": "covered"
    },
    {
      "findingId": "BIZ-012",
      "description": "ELMA — единая точка отказа; резервный режим (fallback)",
      "severity": "MEDIUM",
      "tests": ["TC-025", "TC-026", "TC-027", "TC-071"],
      "fmSection": "п. 3.13",
      "tzObject": "РегистрСведений.ОчередьРезервногоРежима; Константа.ПорогELMAFallback=5.00",
      "status": "covered"
    },
    {
      "findingId": "LS-BR-075",
      "description": "Автотриггеры пересчёта НПСС (курс ЦБ > 5% / закупочная цена > 15%)",
      "severity": "N/A",
      "tests": ["TC-034", "TC-035"],
      "fmSection": "п. 3.9, LS-BR-075",
      "tzObject": "РегламентноеЗадание.КонтрольАвтотриггеровНПСС; Константы: ТриггерКурсЦБ=5.00, ТриггерЗакупочнаяЦена=15.00",
      "status": "covered"
    },
    {
      "findingId": "CrossControl",
      "description": "Перекрёстный контроль шкал при изменении плана ЛС",
      "severity": "N/A",
      "tests": ["TC-021", "TC-022", "TC-023", "TC-024", "TC-054", "TC-072"],
      "fmSection": "п. 3.15",
      "tzObject": "РегламентноеЗадание.ПерекрёстныйКонтрольШкал; шаблон уведомления (заполняется для каждого Заказа)",
      "status": "covered"
    },
    {
      "findingId": "IterationLimit",
      "description": "Лимит итераций корректировки цены — не более 5",
      "severity": "N/A",
      "tests": ["TC-017", "TC-018", "TC-019", "TC-052"],
      "fmSection": "п. 3.5.1",
      "tzObject": "РегистрСведений.ИтерацииКорректировкиЦены; Константа.ЛимитИтерацийКорректировки=5",
      "status": "covered"
    },
    {
      "findingId": "LS-RPT-072",
      "description": "Отчёт нагрузки: оба порога 30 (перелив) и 50 (лимит)",
      "severity": "N/A",
      "tests": ["TC-031"],
      "fmSection": "LS-RPT-072",
      "tzObject": "LS-RPT-072",
      "status": "covered"
    },
    {
      "findingId": "LS-RPT-073",
      "description": "Базовый замер KPI перед пилотом",
      "severity": "N/A",
      "tests": ["TC-032", "TC-062"],
      "fmSection": "LS-RPT-073, п.5",
      "tzObject": "LS-RPT-073",
      "status": "covered"
    },
    {
      "findingId": "LS-RPT-074",
      "description": "Промежуточный отчёт пилота (порог 50% игнорирования)",
      "severity": "N/A",
      "tests": ["TC-033"],
      "fmSection": "LS-RPT-074, п.5",
      "tzObject": "LS-RPT-074",
      "status": "covered"
    },
    {
      "findingId": "PLAT-001",
      "description": "Элементы формы добавляются программно в ПриОткрытии — риск дублирования при повторных открытиях",
      "severity": "PLATFORM",
      "tests": ["TC-073"],
      "fmSection": "ТЗ v3.0 п.1.7, Архитектура раздел 0.2",
      "tzObject": "Форма ЗаказКлиента (расширение): обработчик ПриОткрытии",
      "status": "covered",
      "notes": "Специфика обычных форм 1С:УТ 10.2. Проверяет отсутствие дублирования элементов при многократном открытии"
    },
    {
      "findingId": "PLAT-002",
      "description": "Модальные диалоги блокируют форму — риск потери данных при некорректном использовании",
      "severity": "PLATFORM",
      "tests": ["TC-074"],
      "fmSection": "ТЗ v3.0 п.1.7.1 — механизм уведомлений через Предупреждение/Вопрос",
      "tzObject": "Предупреждение(), Вопрос(), ОткрытьФормуМодально() в модулях форм расширения",
      "status": "covered",
      "notes": "В обычном приложении модальные вызовы полностью доступны и блокируют форму — в отличие от управляемых форм 8.3.3+"
    },
    {
      "findingId": "PLAT-003",
      "description": "ПодключитьОбработчикОжидания — таймер формы для обновления индикаторов нагрузки",
      "severity": "PLATFORM",
      "tests": ["TC-075"],
      "fmSection": "Архитектура раздел 0.4",
      "tzObject": "ПодключитьОбработчикОжидания/ОтключитьОбработчикОжидания в форме РабочееМестоСогласующего",
      "status": "covered",
      "notes": "Доступен на платформе 8.3 для обычных форм. Необходимо проверить отключение при ПриЗакрытии (утечка памяти)"
    },
    {
      "findingId": "PLAT-004",
      "description": "Нет УсловногоОформления — подсветка через ПриВыводеСтроки и ЦветФона/ЦветТекста",
      "severity": "PLATFORM",
      "tests": ["TC-076"],
      "fmSection": "Архитектура раздел 0.2 — нет условного оформления формы",
      "tzObject": "Обработчик ПриВыводеСтроки табличной части ЗаказКлиента",
      "status": "covered"
    },
    {
      "findingId": "PLAT-005",
      "description": "Несовместимость с новыми версиями платформы 8.3 при обновлении",
      "severity": "PLATFORM",
      "tests": ["TC-077"],
      "fmSection": "ТЗ v3.0 раздел 9.2 — риск несовместимости при обновлении 8.3",
      "tzObject": "Всё расширение КонтрольРентабельностиОтгрузок (.cfe)",
      "status": "covered",
      "notes": "Smoke-тест: выполнять перед каждым обновлением платформы 8.3 на тестовой базе"
    },
    {
      "findingId": "PLAT-006",
      "description": "Прекращение поддержки УТ 10.2 — обходы ошибок типового кода через расширение",
      "severity": "PLATFORM",
      "tests": ["TC-078"],
      "fmSection": "ТЗ v3.0 раздел 9.2 — риск прекращения поддержки (+80-160ч)",
      "tzObject": "Механизм &ВместоПровестиДокумент и аналогичные перехваты в расширении",
      "status": "covered"
    },
    {
      "findingId": "PLAT-007",
      "description": "70 сеансов толстого клиента — конкуренция за серверные ресурсы, риск deadlock",
      "severity": "PLATFORM",
      "tests": ["TC-079"],
      "fmSection": "Архитектура раздел 0.3 — стратегия блокировки ЛС для 50-70 пользователей",
      "tzObject": "РегистрСведений.БлокировкиЛС — пессимистичная блокировка через запись в регистр",
      "status": "covered"
    },
    {
      "findingId": "PLAT-008",
      "description": "Серверная логика независима от форм — обеспечивает перенос на УТ 11.x",
      "severity": "PLATFORM",
      "tests": ["TC-080"],
      "fmSection": "ТЗ v3.0 раздел 9.2 — рекомендация: проектировать серверную логику отдельно от форм",
      "tzObject": "Общие модули: КонтрольРентабельностиСервер, ЛимитыАвтосогласованияСервер, ИтерацииКорректировкиСервер",
      "status": "covered",
      "notes": "xUnitFor1C: проверка отсутствия обращений к ЭлементыФормы в серверных модулях"
    }
  ],
  "summary": {
    "totalEntries": 34,
    "covered": 29,
    "closed_in_v105": 5,
    "uncovered": 0,
    "totalTests": 80,
    "coveragePercent": 100,
    "closedFromV104": 5,
    "newPlatformEntries": 8,
    "testsByMethod": {
      "manual_ui": 68,
      "xUnitFor1C": 12
    },
    "testsByType": {
      "positive": 20,
      "negative": 20,
      "boundary": 18,
      "manipulation": 8,
      "integration": 5,
      "performance": 5,
      "platform": 4
    },
    "notes": "80 тест-кейсов. Все Gherkin-сценарии v1.0.4 заменены ручными сценариями UI (TC-069..TC-072). 8 новых PLAT-записей для рисков платформы 1С:УТ 10.2. 5 findings закрыты в v1.0.5 (CRIT-001, HIGH-001, HIGH-003, GAP-02, через обновление ФМ). Все UI-тесты ручные — Vanessa Automation и TestClient не поддерживают обычные формы."
  }
}
