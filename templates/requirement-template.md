# Шаблон записи Требования

## Database Properties

```yaml
# Идентификация
Код: XX-YY-NNN           # Title (например: LS-BR-001)
Название: ""             # Text
Тип: BR                  # Select: BR | FR | WF | RPT | NFR | INT | SEC

# Классификация
Приоритет: P1            # Select: P1 (MVP) | P2 (Phase 2) | P3 (Backlog)
Статус: New              # Select: New | InProgress | Done | Blocked | Cancelled
Сложность: M             # Select: XS | S | M | L | XL

# Связи
ФМ: []                   # Relation → Функциональные модели
Зависит от: []           # Relation → Требования (self-relation)
Блокирует: []            # Relation → Требования (self-relation)

# Ответственные
Автор: @user             # Person
Исполнитель: @user       # Person

# Даты
Создано: date            # Created time
Обновлено: date          # Last edited time
Deadline: date           # Date
```

---

## Типы требований

### BR — Business Rules (Бизнес-правила)
Расчёты, формулы, лимиты, пороговые значения, условия

```markdown
**[XX-BR-NNN] {Название}**

**Описание:** {Что вычисляется/контролируется}

**Формула:**
```
{Формула расчёта}
```

**Условия применения:**
- {Условие 1}
- {Условие 2}

**Граничные значения:**
| Значение | Интерпретация |
|----------|---------------|
| < X | {действие} |
| >= X | {действие} |

**Пример:**
{Конкретный пример с цифрами}
```

### FR — Functional Requirements (Функциональные)
Формы, поля, UI-элементы, статусы, интерфейс

```markdown
**[XX-FR-NNN] {Название}**

**Описание:** {Что должен видеть/делать пользователь}

**Расположение:** {Где в интерфейсе}

**Элементы:**
| Элемент | Тип | Обязательность | Значение по умолчанию |
|---------|-----|----------------|----------------------|
| {Поле 1} | Text | Да | — |
| {Поле 2} | Select | Нет | {значение} |

**Поведение:**
- При {событие}: {реакция}
- При {событие}: {реакция}

**Валидация:**
- {Правило валидации 1}
- {Правило валидации 2}
```

### WF — Workflow (Процессы и согласования)
Маршруты, SLA, эскалации, уведомления

```markdown
**[XX-WF-NNN] {Название}**

**Описание:** {Какой процесс/согласование}

**Триггер:** {Когда запускается}

**Участники:**
| Роль | Действие | SLA |
|------|----------|-----|
| {Роль 1} | {Что делает} | {время} |
| {Роль 2} | {Что делает} | {время} |

**Переходы статусов:**
```
[Статус A] --{условие}--> [Статус B]
[Статус B] --{условие}--> [Статус C]
```

**Эскалация:**
- При превышении SLA: {действие}
- При отсутствии ответа: {действие}

**Уведомления:**
| Событие | Получатели | Канал |
|---------|------------|-------|
| {Событие} | {Кто} | {Email/Push/SMS} |
```

### RPT — Reports (Отчёты и аналитика)
Дашборды, выгрузки, KPI

```markdown
**[XX-RPT-NNN] {Название отчёта}**

**Описание:** {Назначение отчёта}

**Получатели:** {Роли}

**Периодичность:** {Ежедневно/Еженедельно/По запросу}

**Структура:**
| Колонка | Тип | Источник |
|---------|-----|----------|
| {Колонка 1} | {Тип} | {Откуда} |
| {Колонка 2} | {Тип} | {Откуда} |

**Фильтры:**
- {Фильтр 1}: {значения}
- {Фильтр 2}: {значения}

**Группировки:** {По чему}

**Сортировка:** {По умолчанию}
```

### NFR — Non-Functional Requirements (Нефункциональные)
Производительность, надёжность, масштабируемость

```markdown
**[XX-NFR-NNN] {Название}**

**Категория:** {Performance | Reliability | Scalability | Usability}

**Описание:** {Что должно обеспечиваться}

**Метрика:** {Как измеряется}

**Целевое значение:** {Конкретное значение}

**Метод проверки:** {Как тестировать}
```

### INT — Integration (Интеграции)
Внешние системы, API, обмен данными

```markdown
**[XX-INT-NNN] {Название интеграции}**

**Системы:** {Система A} ↔ {Система B}

**Направление:** {A→B | B→A | A↔B}

**Триггер:** {Когда срабатывает}

**Данные:**
| Поле | Тип | Обязательность | Маппинг |
|------|-----|----------------|---------|
| {Поле 1} | {Тип} | Да | {Куда} |

**Протокол:** {REST API | SOAP | Файловый обмен | ...}

**Формат:** {JSON | XML | CSV | ...}

**Частота:** {Real-time | Batch X min | По событию}

**Обработка ошибок:**
- При ошибке: {действие}
- Retry policy: {описание}
```

### SEC — Security (Безопасность)
Права доступа, аудит, защита данных

```markdown
**[XX-SEC-NNN] {Название}**

**Категория:** {Access Control | Audit | Data Protection}

**Описание:** {Что защищается/контролируется}

**Роли и права:**
| Роль | Чтение | Создание | Редактирование | Удаление |
|------|--------|----------|----------------|----------|
| {Роль 1} | ✅ | ✅ | ✅ | ❌ |
| {Роль 2} | ✅ | ❌ | ❌ | ❌ |

**Аудит:**
- Логируется: {что}
- Хранение: {срок}
```

---

## Статусы требований

```
New → InProgress → Done
  ↓        ↓
Blocked  Cancelled
```

| Статус | Описание | Действия |
|--------|----------|----------|
| New | Создано, не взято в работу | Назначить исполнителя |
| InProgress | В разработке | Отслеживать прогресс |
| Done | Реализовано и протестировано | Закрыть |
| Blocked | Заблокировано зависимостью | Указать причину |
| Cancelled | Отменено | Указать причину |

---

## Приоритеты

| Приоритет | Описание | Когда делаем |
|-----------|----------|--------------|
| P1 (MVP) | Критично для запуска | Первая итерация |
| P2 (Phase 2) | Важно, но можно отложить | После MVP |
| P3 (Backlog) | Желательно | Когда будут ресурсы |
